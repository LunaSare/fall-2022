---
title: "uhuru dataset"
author: "Luna L Sanchez Reyes"
date: "2022-10-04"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```



### 1. Describing the data that we are using

We are using the dataset from [this study](https://esapubs.org/archive/ecol/E095/064/metadata.php)

Add a picture of an Acacia

### 2. Read the data set into R

#### 2.1 Get the working directory of my R chunks

The working directory of an Rmd file is not the same as the working directory of the Rstudio project you are in. We can check that by running the following:

```{r}
r_proj_wd <- "/Users/lunasare/Desktop/data-science-course/fall-2022"
r_chunk_wd <- getwd()
r_proj_wd == r_chunk_wd
```
As you can see, the working directory from my R project and the one used in my R chunks in an Rmd file are not the same.

The working directory of an R chunk is equal to the path where the Rmd file is in, in my case, it is `r_chunk_wd`.
This is nested withing my project directory, keep this in mind for when you have to provide the path of a file ;)

#### 2.2 Read the data set into R and create an object

```{r}
acacia <- read.csv(file = "../data-raw/ACACIA_DREPANOLOBIUM_SURVEY.txt", sep = "\t")
```

### 3. Explore the data set

```{r}
head(acacia)
summary(acacia)
colnames(acacia)
sapply(acacia, class)
View(acacia)
```

Make sure that everything that is a number is actually `typeof` numeric or double or integer.

One way to do this is with the function `summary`, and checking at the type of data on each column visually.

Another way is using the `typeof()` function:

```{r}
typeof(acacia[,"HEIGHT"])

acacia$HEIGHT
```

We identified a column that has problematic data. We need to fix it!

### 3.2 Assigning `NA` to missing/incorrect values 

We are going to read the data table again, but we are gonna assign `NA` to the "dead" value that we do not want in our "HEIGHT" column.

```{r}
acacia <- read.csv(file = "/Users/lunasare/Desktop/data-science-course/fall-2022/data-raw/ACACIA_DREPANOLOBIUM_SURVEY.txt", 
                   sep = "\t", 
                   na.strings = "dead")

```


Let's check if this worked:

```{r}
acacia$HEIGHT
typeof(acacia$HEIGHT)
class(acacia$HEIGHT)
```


### 4. Visualize our data

For this, we are using the `ggplot2` package.
Let's install it and load it:

```{r}
# install.packages("ggplot2")
library(ggplot2)
```

Now we are gonna create our first plotting layer with the function `ggplot`. 

```{r}
colnames(acacia)
acacia$CIRC
```

```{r}
ggplot(data = acacia, mapping = aes(x = CIRC, y = HEIGHT)) +
  geom_point(size = 1, color = "blue", alpha = 0.1) +
  labs(x = "Circumference", y = "Height", title = "Data from UHURU Acacia survey")


```
To rescale the plotting of the axis to log scale we use the function `scale_y_log_10()` and `scale_x_log10()`:

```{r}
ggplot( data = acacia, mapping = aes(x = CIRC, y = HEIGHT)) +
  geom_point(size =1, color = "purple", alpha = 0.4) +
  scale_x_log10() +
  scale_y_log10()
```
We have the information on experimental treatment in the column named "TREATMENT":

```{r}
acacia$TREATMENT
```

Let's add information about treatment to our plot:

```{r}
ggplot(data = acacia, mapping = aes (x = CIRC, y = HEIGHT, color = TREATMENT)) +
  geom_point(size = 2, alpha = 0.5)

```


### 4.2 Visualize a statistical analysis of correlation


